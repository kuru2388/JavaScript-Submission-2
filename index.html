<script>

//#1

let transactions = [
    { type: "deposit", amount: 100 },
    { type: "withdrawal", amount: 50 },
    { type: "deposit", amount: 200 },
    { type: "withdrawal", amount: 30 }
];

function groupByType(transactions) {
    let grouped = {};

    transactions.forEach(transaction => {
        const { type, amount } = transaction;
        if (!grouped[type]) {
            grouped[type] = [];
        }
        grouped[type].push({ type, amount });
    });

    return grouped;
}

console.log(groupByType(transactions));


//# 2

let employees = [
    { name: "Alice", age: 25 },
    { name: "Bob", age: 35 },
    { name: "Charlie", age: 30 }
];
let ageLimit = 30;



function filterEmployees(employees, ageLimit) {


    for (i=0;i<employees.length;i++){
        if ( employees[i].age >= 30 ){
            console.log( employees[i])
        }

    }

}
filterEmployees(employees,ageLimit)

//#3

let classes = [
    ["Alice", "Bob", "Charlie"],
    ["David", "Alice", "Eve"],
    ["Frank", "George", "Bob"]
];

function checkDuplicates(classes) {
    let nameSet = new Set();

    for (let classList of classes) {
        for (let name of classList) {
            if (nameSet.has(name)) {
                return true; 
            }
            nameSet.add(name);
        }
    }

    return false; 
}

console.log(checkDuplicates(classes)); 



//#4

const now = new Date();
const year = now.getFullYear();
const month = String(now.getMonth() + 1).padStart(2, '0'); 
const day = String(now.getDate()).padStart(2, '0');
console.log(`${year} ${month} ${day} `)



//#5

function calculateAge(birthdate){
    x=birthdate.split("-")
    const now = new Date();
    const year = now.getFullYear();
    age=year-x[0]
    console.log(`The person age is ${age}`)
}

console.log(calculateAge("2003-06-15"));

//#6

function addDays(date, days) {

    x=date.split("-")
    new_date=parseInt(x[2],10)+days
    return new_date

}
console.log(addDays("2022-06-15", 10));

//#7

function dateDifference(date1, date2) {
    const startdate = new Date(date1);
    const enddate = new Date(date2);

    const timeDifference = enddate - startdate;

    const dayDifference = timeDifference / (1000 * 60 * 60 * 24);

    return Math.abs(dayDifference);
}

console.log(dateDifference("2022-06-15", "2023-06-15"));

//#8 

let userPreferences = new Map();

function setPreference(key, value) {
    userPreferences.set(key, value);
}

function getPreference(key) {
    return userPreferences.get(key);
}

setPreference("theme", "dark");
setPreference("fontSize", "16px");

console.log(getPreference("theme"));     
console.log(getPreference("fontSize"));


//#9
function countOccurrences(arr) {
    let countMap = new Map();

    arr.forEach(item => {
        if (countMap.has(item)) {
            countMap.set(item, countMap.get(item) + 1);
        } else {
            countMap.set(item, 1);
        }
    });

    return countMap;
}

let strings = ["apple", "banana", "apple", "orange", "banana", "apple"];
console.log(countOccurrences(strings));


//#10

let employees = [
    { id: 1, name: "Alice" },
    { id: 2, name: "Bob" },
    { id: 3, name: "Charlie" }
];

function mapEmployeeIdsToNames(employees) {
    let employeeMap = new Map();

    employees.forEach(employee => {
        employeeMap.set(employee.id, employee.name);
    });

    return employeeMap;
}

let employeeMap = mapEmployeeIdsToNames(employees);
console.log(employeeMap);

//#11


let inventory = new Map();

function addItem(itemName, quantity) {
    inventory.set(itemName, quantity);
}

function updateItemQuantity(itemName, quantity) {
    
    if (inventory.has(itemName)) {
        inventory.set(itemName, inventory.get(itemName) + quantity);
    } else {
        console.log("Item not found");
    }
}

function checkItemQuantity(itemName) {
    
    if (inventory.has(itemName)) {
        return inventory.get(itemName);
    } else {
        return "Item not found";
    }
}

addItem("apple", 100);
addItem("banana", 150);

updateItemQuantity("apple", 50);

console.log(checkItemQuantity("apple"));  
console.log(checkItemQuantity("banana")); 


//#12

function removeDuplicates(arr) {

    new_arr=[]
    for (i=0;i<numbers.length;i++){
        if (!new_arr.includes(numbers[i])){
            new_arr.push(numbers[i])

        }
    }

    return new_arr

}
let numbers = [1, 2, 2, 3, 4, 4, 5];
console.log(removeDuplicates(numbers));



//#13 

function intersection(arr1, arr2) {
    let set1 = new Set(arr1);
    let set2 = new Set(arr2);

    let intersectionArray = [];

    for (let item of set1) {
        if (set2.has(item)) {
            intersectionArray.push(item);
        }
    }

    return intersectionArray;
}

let array1 = [1, 2, 3, 4];
let array2 = [3, 4, 5, 6];
console.log(intersection(array1, array2)); // Output: [3, 4]


//#14

function union(...arrays) {
    let resultSet = new Set();

    arrays.forEach(array => {
        array.forEach(element => {
            resultSet.add(element);
        });
    });

    return Array.from(resultSet);
}

let array1 = [1, 2, 3];
let array2 = [3, 4, 5];
let array3 = [5, 6, 7];
console.log(union(array1, array2, array3)); 


//#15

function removeItemsFromSet(items, set) {
    items.forEach(item => {
        if (set.has(item)) {
            set.delete(item);
        }
    });
}

let mySet = new Set([1, 2, 3, 4, 5]);
let itemsToRemove = [2, 3];

removeItemsFromSet(itemsToRemove, mySet);
console.log([...mySet]); 


//#16

function updateAttendance(newAttendance, overallAttendance) {
    newAttendance.forEach(student => {
        overallAttendance.add(student);
    });
    return overallAttendance;
}

let overallAttendance = new Set(["Alice", "Bob"]);
let todayAttendance = ["Charlie", "Alice"];
overallAttendance = updateAttendance(todayAttendance, overallAttendance);
console.log([...overallAttendance]); 


</script>
<title>Submission 2</title>
<h1>JavaScript Submission 2</h1>